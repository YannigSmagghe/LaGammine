var Modal=function(a,b){"use strict";var c={qsa:function(b){return a.querySelectorAll(b)}},d=c.qsa(".modal__trigger"),e=c.qsa(".modal"),f=c.qsa(".modal__bg"),g=c.qsa(".modal__content"),h=c.qsa(".modal__close"),i=b,j=!1,k=400,l=function(b){b.preventDefault();var c=this,d=c.dataset.modal,e=d.length,f=d.substring(1,e),g=a.getElementById(f);m(c,g)},m=function(c,d){if(null===a.getElementById("modal__temp")){var f=a.createElement("div");f.id="modal__temp",c.appendChild(f),f.style.backgroundColor=b.getComputedStyle(c).backgroundColor,n(c,d,f)}},n=function(a,c,d){var h,j,l,m,e=a.getBoundingClientRect(),f=c,g=f.querySelector(".modal__content").getBoundingClientRect(),n=i.innerWidth/2,p=i.innerHeight/2;a.classList.add("modal__trigger--active"),l=g.width/e.width,m=g.height/e.height,l=l.toFixed(3),m=m.toFixed(3),h=Math.round(n-e.left-e.width/2),j=Math.round(p-e.top-e.height/2),f.classList.contains("modal--align-top")&&(j=Math.round(g.height/2+g.top-e.top-e.height/2)),a.style.transform="translate("+h+"px, "+j+"px)",a.style.webkitTransform="translate("+h+"px, "+j+"px)",d.style.backgroundColor="#fff",d.style.transform="scale("+l+","+m+")",d.style.webkitTransform="scale("+l+","+m+")",b.setTimeout(function(){b.requestAnimationFrame(function(){o(f,d)})},k)},o=function(a,b){function c(){b.style.opacity="0",d.removeEventListener("transitionend",c,!1)}if(!j){var d=a.querySelector(".modal__content");a.classList.add("modal--active"),d.classList.add("modal__content--active"),d.addEventListener("transitionend",c,!1),j=!0}},p=function(c){function l(){setTimeout(function(){b.requestAnimationFrame(function(){h.remove()})},k-50)}var i,f=c.target,h=a.getElementById("modal__temp");if(j&&f.classList.contains("modal__bg")||f.classList.contains("modal__close")){for(c.preventDefault(),c.stopImmediatePropagation(),h.style.opacity="1",h.removeAttribute("style"),i=0;i<d.length;i++)d[i].style.transform="none",d[i].style.webkitTransform="none",d[i].classList.remove("modal__trigger--active");for(i=0;i<e.length;i++)e[i].classList.remove("modal--active"),g[i].classList.remove("modal__content--active");h.addEventListener("transitionend",l,!1),j=!1}},q=function(){var a;for(a=0;a<d.length;a++)d[a].addEventListener("click",l,!1);for(a=0;a<h.length;a++)h[a].addEventListener("click",p,!1);for(a=0;a<f.length;a++)f[a].addEventListener("click",p,!1)};return{init:function(){q()}}}(document,window);Modal.init();
